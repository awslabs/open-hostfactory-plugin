{
  "provider": {
    "selection_policy": "HEALTH_BASED",
    "health_check_interval": 60,
    "circuit_breaker": {
      "enabled": true,
      "failure_threshold": 3,
      "recovery_timeout": 120,
      "half_open_max_calls": 5
    },
    "providers": [
      {
        "name": "aws-prod-east",
        "type": "aws",
        "enabled": true,
        "priority": 1,
        "weight": 60,
        "capabilities": ["compute", "storage", "networking", "monitoring"],
        "config": {
          "region": "us-east-1",
          "profile": "production",
          "role_arn": "arn:aws:iam::123456789012:role/OpenHostFactoryRole",
          "max_retries": 5,
          "timeout": 60
        }
      },
      {
        "name": "aws-prod-west",
        "type": "aws",
        "enabled": true,
        "priority": 2,
        "weight": 40,
        "capabilities": ["compute", "storage", "networking"],
        "config": {
          "region": "us-west-2",
          "profile": "production",
          "role_arn": "arn:aws:iam::123456789012:role/OpenHostFactoryRole",
          "max_retries": 5,
          "timeout": 60
        }
      },
      {
        "name": "aws-dr-central",
        "type": "aws",
        "enabled": false,
        "priority": 3,
        "weight": 20,
        "capabilities": ["compute", "storage"],
        "config": {
          "region": "us-central-1",
          "profile": "disaster-recovery",
          "role_arn": "arn:aws:iam::123456789012:role/HostFactoryDRRole",
          "max_retries": 3,
          "timeout": 90
        }
      }
    ]
  },
  "logging": {
    "level": "INFO",
    "file_path": "logs/production.log",
    "console_enabled": false,
    "max_file_size": "100MB",
    "backup_count": 5
  },
  "storage": {
    "strategy": "json",
    "json_strategy": {
      "storage_type": "single_file",
      "base_path": "/var/lib/open-hostfactory-plugin/data",
      "filenames": {
        "single_file": "production_database.json"
      }
    }
  },
  "template": {
    "default_image_id": "/aws/service/ami-amazon-linux-latest/al2023-ami-kernel-6.1-x86_64",
    "default_instance_type": "t3.medium",
    "subnet_ids": [
      "subnet-prod-east-1a",
      "subnet-prod-east-1b",
      "subnet-prod-west-2a",
      "subnet-prod-west-2b"
    ],
    "security_group_ids": [
      "sg-prod-open-hostfactory",
      "sg-prod-monitoring"
    ],
    "ami_resolution": {
      "enabled": true,
      "fallback_on_failure": true,
      "cache_enabled": true
    }
  }
}
